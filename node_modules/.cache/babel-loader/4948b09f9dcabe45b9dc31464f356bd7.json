{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nconst useFetchTVMazeShowApi = showId => {\n  _s();\n  const [data, setData] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsError(false);\n      setIsLoading(true);\n      const {\n        CancelToken\n      } = axios;\n      const source = CancelToken.source();\n      try {\n        const response = await axios.get(`http://api.tvmaze.com/shows/${showId}`, {\n          cancelToken: source.token\n        });\n        setData(response.data);\n      } catch (error) {\n        setIsError(true);\n      }\n      setIsLoading(false);\n    };\n    fetchData();\n  }, [showId]);\n  return {\n    data,\n    isLoading,\n    isError\n  };\n};\n_s(useFetchTVMazeShowApi, \"r44TArangLKbjY/eCrAWtM5c6cg=\");\nexport default useFetchTVMazeShowApi;","map":{"version":3,"names":["useState","useEffect","axios","useFetchTVMazeShowApi","showId","data","setData","isLoading","setIsLoading","isError","setIsError","fetchData","CancelToken","source","response","get","cancelToken","token","error"],"sources":["/Users/radojicapopovic/Documents/work/tvmaze-task/src/hooks/useFetchTVMazeShowApi.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Show } from \"../interfaces/Show\";\n\nexport interface IUseFetchTVMazeShowApi {\n  data?: Show;\n  isLoading: boolean;\n  isError: boolean;\n}\n\nconst useFetchTVMazeShowApi = (showId: number): IUseFetchTVMazeShowApi => {\n  const [data, setData] = useState<Show>();\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsError(false);\n      setIsLoading(true);\n\n      const { CancelToken } = axios;\n      const source = CancelToken.source();\n\n      try {\n        const response = await axios.get<Show>(\n          `http://api.tvmaze.com/shows/${showId}`,\n          { cancelToken: source.token }\n        );\n\n        setData(response.data);\n      } catch (error) {\n        setIsError(true);\n      }\n\n      setIsLoading(false);\n    };\n\n    fetchData();\n  }, [showId]);\n\n  return { data, isLoading, isError };\n};\n\nexport default useFetchTVMazeShowApi;\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AASzB,MAAMC,qBAAqB,GAAIC,MAAc,IAA6B;EAAA;EACxE,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,EAAQ;EACxC,MAAM,CAACO,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAE7CC,SAAS,CAAC,MAAM;IACd,MAAMU,SAAS,GAAG,YAAY;MAC5BD,UAAU,CAAC,KAAK,CAAC;MACjBF,YAAY,CAAC,IAAI,CAAC;MAElB,MAAM;QAAEI;MAAY,CAAC,GAAGV,KAAK;MAC7B,MAAMW,MAAM,GAAGD,WAAW,CAACC,MAAM,EAAE;MAEnC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAC7B,+BAA8BX,MAAO,EAAC,EACvC;UAAEY,WAAW,EAAEH,MAAM,CAACI;QAAM,CAAC,CAC9B;QAEDX,OAAO,CAACQ,QAAQ,CAACT,IAAI,CAAC;MACxB,CAAC,CAAC,OAAOa,KAAK,EAAE;QACdR,UAAU,CAAC,IAAI,CAAC;MAClB;MAEAF,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC;IAEDG,SAAS,EAAE;EACb,CAAC,EAAE,CAACP,MAAM,CAAC,CAAC;EAEZ,OAAO;IAAEC,IAAI;IAAEE,SAAS;IAAEE;EAAQ,CAAC;AACrC,CAAC;AAAC,GA/BIN,qBAAqB;AAiC3B,eAAeA,qBAAqB"},"metadata":{},"sourceType":"module"}